<div style="display:flex; padding:20px;" class="checkoutCont">
    <mat-card class="formCont" style = "padding: 20px 0;">
        <mat-card-title style = "margin-top: 30px;">Shipping Address</mat-card-title>
        <mat-card-content>
            <form>
                <section>
                    <mat-form-field class="field">
                        <input matInput placeholder="name">
                        <mat-error>
                            First Name is required
                        </mat-error>
                    </mat-form-field>
                </section>

                <section>
                    <mat-form-field class="field">
                        <input matInput placeholder="address">
                    </mat-form-field>
                </section>
                <section>
                    <mat-form-field class="smallField">
                        <input matInput placeholder="city">
                    </mat-form-field>
                    <mat-form-field class="smallField">
                        <input matInput placeholder="state">
                    </mat-form-field>
                    <mat-form-field class="smallField">
                        <input matInput placeholder="zip">
                    </mat-form-field>
                </section>

                <section>
                    <mat-form-field class="field">
                        <input matInput placeholder="email">
                    </mat-form-field>
                </section>
            </form>
        </mat-card-content>
        <mat-card-title style = "margin-top: 30px;">Payment</mat-card-title>
        <mat-card-content>
            <form>
                <section>
                    <mat-form-field class="field">
                        <input matInput placeholder="Name on Card">
                        <mat-error>
                            First Name is required
                        </mat-error>
                    </mat-form-field>
                </section>

                <section>
                    <mat-form-field class="field">
                        <input matInput placeholder="Billing Address">
                    </mat-form-field>
                </section>
                <section>
                    <mat-form-field class="smallField">
                        <input matInput placeholder="city">
                    </mat-form-field>
                    <mat-form-field class="smallField">
                        <input matInput placeholder="state">
                    </mat-form-field>
                    <mat-form-field class="smallField">
                        <input matInput placeholder="zip">
                    </mat-form-field>
                </section>

                <section>
                    <mat-form-field class="field" style="width: 20%; padding: 0 20px
                ;">
                        <input matInput placeholder="Card Number">
                    </mat-form-field>
                    <mat-form-field class="smallField">
                        <input matInput placeholder="CVV">
                    </mat-form-field>
                </section>
                <section style="display: flex;justify-content: center;">
                    <div style="text-align: right; width:30%;">
                        <button mat-raised-button [routerLink]="['/cart']" routerLinkActive="router-link-active"  color="warning" style="margin:20px;">Cancel</button>
                        <button mat-raised-button color="primary" (click)="showModal()" style="margin:20px 0px;">Submit</button>
                    </div>
                </section>
                
                

            </form>
        </mat-card-content>
    </mat-card>

    <mat-card class='productCont'>
        <div>Products</div>
        <mat-card *ngFor="let product of userProducts" class='product'>
            <img [src]="product.product.api_featured_image" />
            <div class="name" style="display: flex; align-items: center;">
                <div>{{ product.product.name }}</div>
                <!-- <div>Color: <span>{{ product.color }}</span></div> -->
            </div>
            <div style="display: flex; align-items: center;">
                <div style="font-weight: bold; font-size: 1.2em;">
                    {{product.product.price_sign}}{{product.product.price}}</div>
            </div>
            <div class="delete-button" (click)="deleteItem(product)">X</div>
        </mat-card>
        <mat-card>
            <div style="text-align: right; font-weight: bold;font-size:1.3em;">
                Total Price: ${{totalPrice}}
            </div>
        </mat-card>
    </mat-card>
</div>

<div class="modal" *ngIf="modal" @insertRemove>
    <div class="loading" *ngIf="checkoutSuccess"></div>
    <mat-card class="modal-content">
        <mat-card-title>Are you sure you wish to checkout?</mat-card-title>
        <div class="buttons-wrapper">
            <button mat-raised-button (click)="checkout()">Yes</button>
            <button (click)="hideModal()" mat-raised-button>Cancel</button>
        </div>
    </mat-card>
</div>